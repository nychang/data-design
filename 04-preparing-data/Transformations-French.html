<section class="yellow" data-type="chapter">
<header>
 <div class="icon"><img src="../images/sections/04/camera.png" /></div>
 <p>Chapitre 11</p>
 <h1>Transformations de donn&eacute;es</h1>
 <p data-type="author">Par Kiran PV Adapt&eacute; par Laurent Nepveu</p>
</header>

<section data-type="sect1">
<div data-type="warning">
 <p>Ce chapitre pr&eacute;sente des concepts statistiques un peu plus avanc&eacute;s que ce qui a &eacute;t&eacute; propos&eacute; &agrave; travers les autres chapitres. Nous d&eacute;sirons tout de m&ecirc;me inclure une br&egrave;ve introduction aux transformations de donn&eacute;es, car il est possible que vous y aillez recours. Si vous devez appliquer des transformations &agrave; vos donn&eacute;es, r&eacute;ferrez-vous &agrave; notre <a href="app01.html">Appendix</a> pour plus d&#39;information.</p>
</div>

<p>Lorsqu&#39;on prend une photo avec un appareil num&eacute;rique, il arrive qu&#39;il ne soit pas possible de bien distinguer chaque d&eacute;tails de la photo. Certaines couleurs peuvent &ecirc;tre trop fonc&eacute;es ou trop p&acirc;les, la photo peut &ecirc;tre floue, ou encore certains objets peuvent &ecirc;tre tout simplement trop petits. Vous utiliserez alors un logiciel tel que Instagram ou Photoshop pour la modifier ou appliquer un filtre. Vous transformerez ainsi la photo pour rendre ces d&eacute;tails plus faciles &agrave; distinguer, pour la rendre plus claire et plus belle.</p>

<p>Fr&eacute;quemment, les donn&eacute;es que nous traitons doivent &ecirc;tre ainsi transform&eacute;es. Vous aurez peut-&ecirc;tre un jeu de donn&eacute;es qui, lorsque visualis&eacute; tel quel, ne rev&egrave;le pas l&#39;information qu&#39;il contient v&eacute;ritablement ou ne permet pas de distinguer certaines caract&eacute;ristiques cl&eacute;s des donn&eacute;es. Il est aussi possible que vous d&eacute;sireriez effectuer des tests statistiques sur vos donn&eacute;es, mais que celles-ci ne respectent pas les hypoth&egrave;ses quant aux distributions que plusieurs tests statistiques requi&egrave;rent (par exemple, que la variable test&eacute;e suive une loi normale). Appliquer des transformations &agrave; vos donn&eacute;es est une fa&ccedil;on de palier aux deux probl&egrave;mes pr&eacute;sent&eacute;s. Nous pr&eacute;sentons ici quelques transformations communes dont vous pourriez avoir besoin lorsque vous manipulerez et visualiserez vos donn&eacute;es.</p>

<p>Les <a class="glossterm" href="glossary01.html#transformation-data" target="_blank">transformations de donn&eacute;es</a> consistent donc en des manipulations permettant de r&eacute;v&eacute;ler certaines caract&eacute;ristiques des donn&eacute;es originales qui ne peuvent pas ou pas facilement &ecirc;tre observ&eacute;es. On peut proc&eacute;der &agrave; la transformation de la distribution d&#39;une variable de nos donn&eacute;es pour la rendre plus facilement observable ou encore pour qu&#39;elle corresponde aux hypoth&egrave;ses des tests statistiques que nous voulons appliquer. Une technique tr&egrave;s fr&eacute;quente consistera &agrave; appliquer une fonction math&eacute;matique sur notre variable. Par exemple, on pourra utiliser, plut&ocirc;t qu&#39;une variable originale X, son logarithme ou encore sa racine carr&eacute;e.</p>

<div data-type="warning">
<p>Attention! Ne jamais appliquer les transformations directement sur les donn&eacute;es originales. Les variables transform&eacute;es doivent &ecirc;tre conserv&eacute;es dans de nouvelles variables dans votre jeu de donn&eacute;es ou encore peuvent &ecirc;tre plac&eacute;es dans un tout nouveau jeu de donn&eacute;es. Vous ne savez jamais quand vous aurez besoin des donn&eacute;es originales non-transform&eacute;es &agrave; nouveau dans vos analyses ou vos visualisations.</p>
</div>

<h2>Distribution normale et asym&eacute;trie des donn&eacute;es</h2>

<p>L&#39;hypoth&egrave;se la plus fr&eacute;quente parmi tous les tests statistiques est celle qui requiert que la ou les variables analys&eacute;es soient <a class="glossterm" href="glossary01.html#distribution-normal" target="_blank">normalement distribu&eacute;es</a>. La distribution normale est aussi connue sous le nom de &quot;courbe en cloche&quot; (ou &quot;bell curve&quot; en anglais); On l&#39;appelle ainsi parce que lorsque visualis&eacute;es, les donn&eacute;es prennent la forme d&#39;une cloche de part et d&#39;autre d&#39;une valeur centrale. Par exemple, certaines mesures chez l&#39;humain telles que la taille, le poids, la dur&eacute;e de vie ou encore les r&eacute;sultats de tests de QI sont g&eacute;n&eacute;ralement normalement distribu&eacute;es autour d&#39;une valeur moyenne de la population.</p>

<p>Une distribution normale est r&eacute;partie &eacute;galement de part et d&#39;autre d&#39;une valeur moyenne centrale. La courbe est sym&eacute;trique par rapport &agrave; la moyenne. Lorsque la distribution des donn&eacute;es est d&eacute;s&eacute;quilibr&eacute;e soit &agrave; gauche ou soit &agrave; droite, on dira qu&#39;elle est biais&eacute;e. Dans ces cas, il y a plus de donn&eacute;es d&rsquo;un c&ocirc;t&eacute; du sommet de la courbe que de l&rsquo;autre. Des donn&eacute;es biais&eacute;es &agrave; droite ont une longue queue qui s&#39;&eacute;tend &agrave; droite de la moyenne de la distribution tandis que des donn&eacute;es biais&eacute;es &agrave; gauche ont une longue queue &agrave; gauche. Lorsque des donn&eacute;es sont tr&egrave;s biais&eacute;es, il peut &ecirc;tre difficile de visualiser les extr&ecirc;mes. Dans ce cas, une transformation vous permettra soit de proc&eacute;der &agrave; des tests statistiques ou encore &agrave; mieux visualiser la distribution en entier.</p>

<h3>Distribution normale</h3>

<figure><img alt="Normal distribution" src="../images/sections/04/normal-distribution.png" /></figure>

<h3>D&eacute;sax&eacute;e vers la gauche</h3>

<figure><img alt="Left skew" src="../images/sections/04/left-skew.png" /></figure>

<h3>D&eacute;sax&eacute;e vers la droite</h3>

<figure><img alt="Normal distribution" src="../images/sections/04/right-skew.png" /></figure>

<h2>Un exemple de transformations avec un &eacute;chantillon de donn&eacute;es r&eacute;elles</h2>

<p>Consid&eacute;rons des donn&eacute;es de population et de superficie des 50 &eacute;tats am&eacute;ricains en 2012 pour comprendre comment les transformations de donn&eacute;es peuvent vous aider &agrave; analyser et visualiser vos donn&eacute;es. La premi&egrave;re &eacute;tape consiste &agrave; &eacute;valuer la distribution des variables analys&eacute;es. C&#39;est en &eacute;valuant la distribution de vos donn&eacute;es brutes que vous d&eacute;ciderez si des transformations sont n&eacute;cessaires. Pour se faire une id&eacute;e de la distribution de nos donn&eacute;es, d&eacute;butons avec un histogramme de la variable de population et un nuage de points des variables de superficie et de population.</p>

<figure><img alt="Untransformed population values" src="../images/sections/04/untransformed-population-values.png" /></figure>

<p>L&#39;histogramme ci-dessus montre que la distribution de la variable de population est biais&eacute;e &agrave; droite. Ceci est attendu puisque la plupart des &eacute;tats am&eacute;ricains ont une population de moins de 10 millions d&#39;habitants. Il est donc clair que si nous voulons effectuer des tests statistiques qui requi&egrave;rent une distribution normale, ces donn&eacute;es devront &ecirc;tre transform&eacute;es.</p>

<figure><img alt="Population scatter plot" src="../images/sections/04/population-scatter.png" /></figure>

<p>Le nuage de points ci-dessus pr&eacute;sente la population sur l&#39;axe des Y et la superficie sur l&#39;axe des X. On y voit que la plupart des points sont concentr&eacute;s entre 0 et 10 millions de population et sous les 400 000 kilom&egrave;tres carr&eacute;s. En utilisant les &eacute;chelles non transform&eacute;es, il est difficile de bien voir la relation entre la population et la superficie. Les valeurs hors normes (ou valeurs ab&eacute;rrantes) de l&#39;Alaska et de la Californie font en sorte qu&#39;on ne peut pas simplement agrandir les axes. Il faudra proc&eacute;der &agrave; une transformation.</p>

<p>Plusieurs transformations peuvent &ecirc;tre appliqu&eacute;es dans les deux cas pr&eacute;c&eacute;dents. Nous nous attarderons ici &agrave; quelques transformations les plus couramment utilis&eacute;es pour vous aider &agrave; comprendre comment elles vous permettront de mieux visualiser vos donn&eacute;es et d&#39;approfondir votre analyse.</p>

<h3>Transformation logarithmique</h3>

<p>La <a class="glossterm" href="glossary01.html#transformation-log" target="_blank">transformation logarithmique</a> consiste tout simplement &agrave; appliquer la fonction log &agrave; chacune des valeurs de la variable &agrave; transformer. Vous utilisez ensuite dans votre analyse la nouvelle variable constitu&eacute;e des r&eacute;sultats de la fonction log au lieu des donn&eacute;es originales. Cette transformation a un impact marqu&eacute; sur la distribution d&#39;une variable. Elle permet en g&eacute;n&eacute;ral de rapprocher des valeurs extr&ecirc;mes pour obtenir des graphes de distribution moins &eacute;tendus. Les deux graphes ci-dessous montrent d&#39;une part la variable population &agrave; laquelle on a appliqu&eacute; la fonction logarithme naturel et, d&#39;autre part, le m&ecirc;me nuage de points que pr&eacute;c&eacute;demment, mais auquel on a appliqu&eacute; la fonction logarithme naturel sur les deux variables de population et superficie.</p>

<figure><img alt="Log transformed population values" src="../images/sections/04/log-transformed.png" /></figure>

<figure><img alt="Log transformed scatter plot" src="../images/sections/04/log-scatter.png" /></figure>

<h3>Transformation racine carr&eacute;e</h3>

<p>La <a class="glossterm" href="glossary01.html#transformation-square" target="_blank">transformation racine carr&eacute;e</a> consiste &agrave; calculer la racine carr&eacute;e de chacune des valeurs d&#39;une variable d&#39;un jeu de donn&eacute;es et d&#39;utiliser cette r&eacute;sultante dans notre analyse. Cette transformation a un impact plus mod&eacute;r&eacute; sur la distribution. Les deux graphes ci-dessous montrent la distribution de la population &agrave; laquelle on a appliqu&eacute; une racine carr&eacute;e, ainsi que le nuage de points, toujours de la population par rapport &agrave; la superficie, auquel on a appliqu&eacute; la racine carr&eacute;e aux deux variables.</p>

<figure><img alt="Carr&eacute; root transformed population values" src="../images/sections/04/square-root.png" /></figure>

<figure><img alt="Carr&eacute; root transformed population values" src="../images/sections/04/sqrt-scatter.png" /></figure>

<h2>Choisir la bonne transformation</h2>

<p>Une fois qu&#39;on a acquis une bonne connaissance des diff&eacute;rentes transformations que l&#39;on peut appliquer, il faut d&eacute;velopper une intuition pour choisir les transformations &agrave; utiliser dans diff&eacute;rents contextes. Bien qu&#39;il existe parfois des techniques formelles pour choisir une transformation, il est plus souvent n&eacute;cessaire de proc&eacute;der par essai et erreur pour choisir. Une strat&eacute;gie simple consiste &agrave; essayer plusieurs transformations et de valider ensuite les r&eacute;sultats.</p>

<p>Consid&eacute;rez les histogrammes des donn&eacute;es transform&eacute;es ci-dessus. On peut facilement voir que la transformation logarithmique semble pr&eacute;f&eacute;rable &agrave; la racine carr&eacute;e qui elle contient toujours un l&eacute;ger biais. Si vous effectuez un test statistique requ&eacute;rant une distribution normale, la transformation logarithmique est le meilleur choix.</p>

<p>Par contre, si votre but est plut&ocirc;t de mieux visualiser la relation entre la population et la superficie des &eacute;tats, alors la racine carr&eacute;e est une meilleure transformation car les donn&eacute;es sont mieux dispers&eacute;es sur le graphe.</p>

<h2>Transformations communes</h2>

<table>
	<tbody>
		<tr>
			<th>M&eacute;thode</th>
			<th>Fonction math&eacute;matique</th>
			<th>&Agrave; utiliser pour:</th>
			<th>&Agrave; &eacute;viter pour:</th>
		</tr>
		<tr>
			<td>Log</td>
			<td>ln(x)<br />
			log<sub>10</sub>(x)</td>
			<td>Donn&eacute;es biais&eacute;es &agrave; droite log10(x) est efficace lorsque les donn&eacute;es sont distribu&eacute;es sur des valeurs de plusieurs puissances de 10 (100, 1000, 10 000, etc.)</td>
			<td>Valeurs de z&eacute;ro<br />
			Valeurs n&eacute;gatives</td>
		</tr>
		<tr>
			<td>Carr&eacute; root</td>
			<td>&radic;<span style="text-decoration:overline;">x</span></td>
			<td>Donn&eacute;es biais&eacute;es &agrave; droite</td>
			<td>Valeurs n&eacute;gatives</td>
		</tr>
		<tr>
			<td>Carr&eacute;</td>
			<td>x<sup>2</sup></td>
			<td>Donn&eacute;es biais&eacute;es &agrave; gauche</td>
			<td>Valeurs n&eacute;gatives</td>
		</tr>
		<tr>
			<td>Racine cubique</td>
			<td>x<sup>1/3</sup></td>
			<td>Donn&eacute;es biais&eacute;es &agrave; droite<br />
			Valeurs n&eacute;gatives</td>
			<td>Pas aussi efficace pour normaliser que la fonction log</td>
		</tr>
		<tr>
			<td>Inverse</td>
			<td>1/x</td>
			<td>Rapprocher les valeurs extr&ecirc;mes des valeurs moyennes</td>
			<td>Valeurs de z&eacute;ro<br />
			Valeurs n&eacute;gatives</td>
		</tr>
	</tbody>
</table>

<h2>Avertissements quant &agrave; l&#39;utilisation de transformations</h2>

<p>&Eacute;tant donn&eacute; que les transformations de donn&eacute;es n&eacute;cessitent d&#39;appliquer une fonction math&eacute;matique &agrave; vos variables, il faut &ecirc;tre prudent lors de l&#39;interpr&eacute;tation des r&eacute;sultats puisque ceux-ci auront chang&eacute; d&#39;&eacute;chelle. Par exemple, en appliquant une transformation logarithmique &agrave; une variable de population, l&#39;unit&eacute; de la variable devient le log de la population. Lorsque vous pr&eacute;sentez des r&eacute;sultats sur cette variable, il faut clairement communiquer que celle-ci a &eacute;t&eacute; transform&eacute;e et quelle est la nouvelle &eacute;chelle. Autrement, vos lecteurs consid&eacute;reront que vous travaillez avec une donn&eacute;e non transform&eacute;e. Leur interpr&eacute;tation sera potentiellement erron&eacute;e.</p>

<div data-type="warning">
<p>Si vous utilisez des donn&eacute;es transform&eacute;es pour calculer des param&egrave;tres statistiques comme la moyenne, il faut s&#39;assurer de ramener le param&egrave;tre dans l&#39;unit&eacute; originale avant de pr&eacute;senter les r&eacute;sultats. Pour ramener cette moyenne dans l&#39;unit&eacute; originale, il suffit d&#39;appliquer la fonction inverse de la transformation. Par exemple, si vous avez appliqu&eacute; une racine carr&eacute;e &agrave; vos donn&eacute;es, il faut alors mettre au carr&eacute;e le r&eacute;sultat pour le ramener dans l&#39;unit&eacute; d&#39;origine.</p>
</div>

<p>Il est possible que vous n&#39;utilisiez pas tr&egrave;s souvent des transformations dans vos analyses. Par contre, lorsque vous le faites, il est important de bien conna&icirc;tre comment utiliser ces transformations et quels impacts elles sont sur vos donn&eacute;es et votre analyse. La transformation des donn&eacute;es n&#39;est qu&#39;un autre outil pour vous permettre de mieux exploiter vos donn&eacute;es.</p>
</section>
</section>
